<% layout("/layouts/boilerplate") %>

<div class="row mt-3">
  <div class="col-8 offset-2">
    <br/>
    <h2>Edit Employee Details</h2>
    <form method="POST" action="/listings/<%= listing._id %>?_method=PUT" enctype="multipart/form-data" novalidate class="needs-validation">
      
      <!-- Name -->
      <div class="mb-3">
        <label for="name" class="form-label">Name</label>
        <input name="listing[name]" value="<%= listing.name %>" type="text" class="form-control" required>
      </div>
      
      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input name="listing[email]" value="<%= listing.email %>" type="email" class="form-control" required>
      </div>

      <!-- Mobile Number -->
      <div class="mb-3">
        <label for="mobilenumber" class="form-label">Mobile Number</label>
        <input name="listing[mobilenumber]" value="<%= listing.mobilenumber %>" type="text" class="form-control" required>
      </div>
      
<!-- Designation dropdown -->
<div class="mb-3">
  <label for="designation" class="form-label">Designation</label>
  <select name="listing[designation]" class="form-control" required>
    <option value="Manager" <%= listing.designation === "Manager" ? "selected" : "" %>>Manager</option>
    <option value="Team Lead" <%= listing.designation === "Team Lead" ? "selected" : "" %>>Team Lead</option>
    <option value="HR" <%= listing.designation === "HR" ? "selected" : "" %>>HR</option>
    <option value="Designer" <%= listing.designation === "Designer" ? "selected" : "" %>>Designer</option>
    <option value="Developer" <%= listing.designation === "Developer" ? "selected" : "" %>>Developer</option>
    <option value="Sales" <%= listing.designation === "Sales" ? "selected" : "" %>>Sales</option>
  </select>
</div>


      <!-- Gender radio buttons -->
      <div class="mb-3">
        <label class="form-label">Gender</label>
        <div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="listing[gender]" id="male" value="Male" <%= listing.gender === 'Male' ? 'checked' : '' %> required>
            <label class="form-check-label" for="male">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="listing[gender]" id="female" value="Female" <%= listing.gender === 'Female' ? 'checked' : '' %> required>
            <label class="form-check-label" for="female">Female</label>
          </div>
        </div>
      </div>

      <!-- Course checkboxes -->
      <div class="mb-3">
        <label for="course" class="form-label">Course</label>
        <div>
            <input type="checkbox" name="listing[course][]" value="MCA" <%= listing.course.includes('MCA') ? 'checked' : '' %>> MCA
            <input type="checkbox" name="listing[course][]" value="BCA" <%= listing.course.includes('BCA') ? 'checked' : '' %>> BCA
            <input type="checkbox" name="listing[course][]" value="BTech" <%= listing.course.includes('BTech') ? 'checked' : '' %>> BTech
        </div>
      </div>

      <!-- Image upload -->
      <div class="mb-3">
        <label for="image" class="form-label">Image</label>
        <input name="image" type="file" class="form-control">
        <small>Leave blank if you don't want to change the image</small>
      </div>

      <!-- Submit button -->
      <button class="btn btn-dark add-btn mt-3">Save Changes</button>
      <br/> <br/>
    </form>
  </div>
</div>
<script src="/js/script.js"></script>